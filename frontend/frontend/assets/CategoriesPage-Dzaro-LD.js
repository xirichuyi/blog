import{u as v,a as C,r as c,j as e,L as h}from"./index-Cfx8vNNh.js";import{A}from"./ArticleCard-8oAlXAIq.js";const S=()=>{const g=v(),{categories:r,isLoading:x,error:t,fetchArticlesByCategory:j}=C(),[i,N]=c.useState("all"),[n,y]=c.useState([]),[p,d]=c.useState(!1),[L,o]=c.useState(null);c.useEffect(()=>{m("all")},[]);const m=async s=>{d(!0),o(null);try{const l=await j(s);y(l)}catch(l){o(l instanceof Error?l.message:"Failed to fetch articles")}finally{d(!1)}},u=async s=>{s!==i&&(N(s),await m(s))},f=s=>{g(`/article/${s}`)};if(x)return e.jsx("div",{className:"categories-page",children:e.jsx(h,{size:"large",message:"Loading categories...",className:"categories-loading"})});if(t)return e.jsx("div",{className:"categories-page",children:e.jsxs("div",{className:"categories-error",children:[e.jsx("md-icon",{className:"error-icon",children:"error"}),e.jsx("h2",{className:"md-typescale-headline-medium",children:"Error Loading Categories"}),e.jsx("p",{className:"md-typescale-body-large",children:t}),e.jsx("md-filled-button",{onClick:()=>window.location.reload(),children:"Try Again"})]})});const a=r.find(s=>s.id===i);return e.jsxs("div",{className:"categories-page",children:[e.jsx("header",{className:"categories-header",children:e.jsxs("div",{className:"categories-header-content",children:[e.jsx("h1",{className:"categories-title md-typescale-display-small",children:"Browse by Categories"}),e.jsx("p",{className:"categories-subtitle md-typescale-body-large",children:"Explore articles organized by topics and themes"})]})}),e.jsxs("section",{className:"categories-section",children:[e.jsx("h2",{className:"section-title md-typescale-headline-medium",children:"Categories"}),e.jsx("div",{className:"categories-grid",children:r.map(s=>e.jsx("md-elevated-card",{className:`category-card ${i===s.id?"selected":""}`,onClick:()=>u(s.id),children:e.jsxs("div",{className:"category-card-content",children:[e.jsx("div",{className:"category-icon-container",children:e.jsx("md-icon",{className:"category-icon",children:s.icon})}),e.jsxs("div",{className:"category-info",children:[e.jsx("h3",{className:"category-name md-typescale-title-large",children:s.name}),e.jsxs("p",{className:"category-count md-typescale-body-medium",children:[s.count," ",s.count===1?"article":"articles"]})]}),i===s.id&&e.jsx("md-icon",{className:"selected-indicator",children:"check_circle"})]})},s.id))})]}),e.jsxs("section",{className:"articles-section",children:[e.jsxs("div",{className:"articles-header",children:[e.jsx("h2",{className:"section-title md-typescale-headline-medium",children:a?a.name:"Articles"}),a&&a.id!=="all"&&e.jsxs("md-assist-chip",{className:"category-chip",children:[e.jsx("md-icon",{slot:"icon",children:a.icon}),a.count," articles"]})]}),p?e.jsx(h,{size:"medium",message:"Loading articles...",className:"articles-loading"}):n.length>0?e.jsx("div",{className:"articles-grid",children:n.map(s=>e.jsx(A,{...s,onClick:f,className:"category-article-card"},s.id))}):e.jsxs("div",{className:"no-articles",children:[e.jsx("md-icon",{className:"no-articles-icon",children:"article"}),e.jsx("h3",{className:"md-typescale-headline-small",children:"No Articles Found"}),e.jsx("p",{className:"md-typescale-body-medium",children:"There are no articles in this category yet."})]})]})]})};export{S as default};
