import{r as p,j as e,R as y,d as f,u as N,e as v}from"./index-Cfx8vNNh.js";const w=(s,t={})=>{const{enabled:d=!0,target:a=document}=t,c=p.useCallback(l=>{if(!d)return;const r=document.activeElement,o=r&&(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.tagName==="SELECT"||r.getAttribute("contenteditable")==="true"||r.closest("md-outlined-text-field")||r.closest("md-filled-text-field")),h=["s","z","y","a","c","v","x"];if(!(o&&!(l.ctrlKey||l.metaKey)&&!h.includes(l.key.toLowerCase())))for(const n of s){const x=n.key.toLowerCase()===l.key.toLowerCase(),j=!!n.ctrlKey===l.ctrlKey,b=!!n.metaKey===l.metaKey,i=!!n.shiftKey===l.shiftKey,u=!!n.altKey===l.altKey;if(x&&j&&b&&i&&u){n.preventDefault!==!1&&l.preventDefault(),n.action();break}}},[s,d]);p.useEffect(()=>{if(d)return a.addEventListener("keydown",c),()=>{a.removeEventListener("keydown",c)}},[c,d,a])},g=s=>{const t=[];return s.save&&t.push({key:"s",ctrlKey:!0,action:s.save,description:"Save (Ctrl+S)"}),s.publish&&t.push({key:"s",ctrlKey:!0,shiftKey:!0,action:s.publish,description:"Publish (Ctrl+Shift+S)"}),s.cancel&&t.push({key:"Escape",action:s.cancel,description:"Cancel (Esc)",preventDefault:!1}),s.preview&&t.push({key:"p",ctrlKey:!0,action:s.preview,description:"Preview (Ctrl+P)"}),s.newItem&&t.push({key:"n",ctrlKey:!0,action:s.newItem,description:"New Item (Ctrl+N)"}),s.search&&t.push({key:"f",ctrlKey:!0,action:s.search,description:"Search (Ctrl+F)"}),s.refresh&&t.push({key:"r",ctrlKey:!0,action:s.refresh,description:"Refresh (Ctrl+R)"}),t},k=s=>{const t=a=>{const c=[];return a.ctrlKey&&c.push("Ctrl"),a.metaKey&&c.push("Cmd"),a.shiftKey&&c.push("Shift"),a.altKey&&c.push("Alt"),c.push(a.key.toUpperCase()),c.join(" + ")};return{formatShortcut:t,getShortcutsList:()=>s.map(a=>({keys:t(a),description:a.description}))}},C=({shortcuts:s,trigger:t})=>{const[d,a]=p.useState(!1),{getShortcutsList:c}=k(s),l=c(),r=e.jsx("md-icon-button",{onClick:()=>a(!0),title:"Keyboard shortcuts",children:e.jsx("md-icon",{children:"keyboard"})});return e.jsxs(e.Fragment,{children:[t?e.jsx("div",{onClick:()=>a(!0),children:t}):r,d&&e.jsx("div",{className:"shortcuts-help-backdrop",onClick:()=>a(!1),children:e.jsxs("div",{className:"shortcuts-help-dialog",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"shortcuts-help-header",children:[e.jsx("h2",{className:"md-typescale-headline-small",children:"Keyboard Shortcuts"}),e.jsx("md-icon-button",{onClick:()=>a(!1),children:e.jsx("md-icon",{children:"close"})})]}),e.jsx("div",{className:"shortcuts-help-content",children:l.length>0?e.jsx("div",{className:"shortcuts-list",children:l.map((o,h)=>e.jsxs("div",{className:"shortcut-item",children:[e.jsx("div",{className:"shortcut-keys",children:o.keys.split(" + ").map((m,n)=>e.jsxs(y.Fragment,{children:[e.jsx("kbd",{className:"shortcut-key",children:m}),n<o.keys.split(" + ").length-1&&e.jsx("span",{className:"shortcut-plus",children:"+"})]},n))}),e.jsx("div",{className:"shortcut-description",children:o.description.replace(/\s*\([^)]*\)/,"")})]},h))}):e.jsx("p",{className:"no-shortcuts md-typescale-body-medium",children:"No keyboard shortcuts available for this page."})})]})})]})},K=[{id:"dashboard",label:"Dashboard",icon:"dashboard",path:"/admin/dashboard"},{id:"posts",label:"Posts",icon:"article",path:"/admin/posts"},{id:"categories-tags",label:"Categories & Tags",icon:"label",path:"/admin/categories-tags"},{id:"about",label:"About",icon:"person",path:"/admin/about"}],L=({children:s,title:t="Admin Dashboard",breadcrumbs:d=[],actions:a})=>{const[c,l]=p.useState(!1),{user:r,logout:o}=f(),h=N(),m=v(),n=()=>{o(),h("/admin/login")},x=()=>{l(!c)},j=i=>{h(i),l(!1)},b=i=>m.pathname===i;return e.jsxs("div",{className:"admin-layout",children:[e.jsx("header",{className:"admin-header",children:e.jsxs("div",{className:"admin-header-content",children:[e.jsxs("div",{className:"admin-header-start",children:[e.jsx("md-icon-button",{onClick:x,className:"sidebar-toggle",children:e.jsx("md-icon",{children:"menu"})}),e.jsxs("div",{className:"header-title-section",children:[d.length>0&&e.jsx("nav",{className:"breadcrumbs",children:d.map((i,u)=>e.jsxs("span",{className:"breadcrumb-item",children:[i.path?e.jsx("button",{className:"breadcrumb-link",onClick:()=>h(i.path),children:i.label}):e.jsx("span",{className:"breadcrumb-current",children:i.label}),u<d.length-1&&e.jsx("md-icon",{className:"breadcrumb-separator",children:"chevron_right"})]},u))}),e.jsx("h1",{className:"admin-title md-typescale-headline-small",children:t})]})]}),e.jsxs("div",{className:"admin-header-end",children:[a&&e.jsx("div",{className:"header-actions",children:a}),e.jsx(C,{shortcuts:g({newItem:()=>h("/admin/posts/new"),search:()=>{},refresh:()=>window.location.reload()})}),e.jsx("md-icon-button",{className:"header-action",children:e.jsx("md-icon",{children:"notifications"})}),e.jsxs("div",{className:"user-menu",children:[e.jsx("md-icon-button",{className:"user-avatar",children:e.jsx("md-icon",{children:"account_circle"})}),e.jsxs("div",{className:"user-info",children:[e.jsx("span",{className:"user-name md-typescale-body-medium",children:r?.username}),e.jsx("span",{className:"user-role md-typescale-body-small",children:r?.role})]}),e.jsx("md-icon-button",{onClick:n,className:"logout-button",children:e.jsx("md-icon",{children:"logout"})})]})]})]})}),e.jsxs("nav",{className:`admin-sidebar ${c?"open":""}`,children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("md-icon",{class:"brand-icon",children:"admin_panel_settings"}),e.jsx("span",{className:"brand-text md-typescale-title-medium",children:"Admin Panel"})]})}),e.jsx("div",{className:"sidebar-content",children:e.jsx("md-list",{class:"navigation-list",children:K.map(i=>e.jsxs("md-list-item",{onClick:()=>j(i.path),class:`nav-item ${b(i.path)?"active":""}`,children:[e.jsx("md-icon",{slot:"start",children:i.icon}),e.jsx("div",{slot:"headline",className:"nav-label",children:i.label}),i.badge&&e.jsx("md-badge",{slot:"end",value:i.badge})]},i.id))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsx("md-divider",{}),e.jsxs("md-list-item",{onClick:n,class:"logout-item",children:[e.jsx("md-icon",{slot:"start",children:"logout"}),e.jsx("div",{slot:"headline",children:"Logout"})]})]})]}),c&&e.jsx("div",{className:"sidebar-overlay",onClick:()=>l(!1)}),e.jsx("main",{className:"admin-main",children:e.jsx("div",{className:"admin-content",children:s})})]})};export{L as A,g as c,w as u};
